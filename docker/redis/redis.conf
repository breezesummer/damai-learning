# Redis配置文件

# 绑定所有接口
bind 0.0.0.0

# 保护模式关闭（集群需要）
protected-mode no

# 启用AOF持久化
appendonly yes
appendfsync everysec

# 内存设置
maxmemory 1gb
maxmemory-policy allkeys-lru

# 日志级别
loglevel notice

# 超时设置
timeout 0
tcp-keepalive 300

# 客户端连接数
maxclients 10000

# 数据库数量
databases 16

# 慢查询日志
slowlog-log-slower-than 10000
slowlog-max-len 128

# 集群配置
cluster-enabled yes
cluster-node-timeout 15000
cluster-announce-ip 127.0.0.1
cluster-announce-port 6379
cluster-announce-bus-port 16379

# 安全设置
# requirepass your_redis_password

# 其他优化
tcp-backlog 511
save 900 1
save 300 10
save 60 10000